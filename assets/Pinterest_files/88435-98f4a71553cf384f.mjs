"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[88435,5750],{505025:(e,s,a)=>{a.d(s,{Oz:()=>t,mo:()=>i,nt:()=>n,v8:()=>r});let t={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},r="BUSINESS_PANEL",n="ASSET_PANEL",i=500},927955:(e,s,a)=>{a.d(s,{default:()=>r});let t=new class{get instance(){return this.__storeInstance__}set instance(e){return this.__storeInstance__=e,e}set(e){return this.instance=e,e}},r=t},577937:(e,s,a)=>{a.d(s,{Fe:()=>t,bO:()=>i,eQ:()=>r,s4:()=>n});let t={BUSINESS_HIERARCHY_CHILD:"BUSINESS_HIERARCHY_CHILD",BUSINESS_HIERARCHY_MEMBER:"BUSINESS_HIERARCHY_MEMBER"},r={business_relationship_invite:"business_relationship"},n={PARTNER_REQUEST:"PARTNER_REQUEST",MEMBER_INVITE:"MEMBER_INVITE",PARTNER_INVITE:"PARTNER_INVITE",ORGANIZATION_MANAGER_INVITE:"ORGANIZATION_MANAGER_INVITE"},i=e=>0===e?"DIRECT_PERMISSION":"AGGREGATED_PERMISSION"},326884:(e,s,a)=>{a.d(s,{EF:()=>o,Hg:()=>T,Hl:()=>N,IR:()=>A,Je:()=>u,K3:()=>v,O1:()=>U,Q6:()=>l,QE:()=>t,V3:()=>h,Z4:()=>b,c7:()=>p,cU:()=>i,cg:()=>r,dZ:()=>n,gO:()=>S,j$:()=>I,j9:()=>P,pg:()=>$,pk:()=>y,pt:()=>O,qq:()=>g,sy:()=>d,tP:()=>R,uE:()=>m,vk:()=>x,w2:()=>c,we:()=>D,ww:()=>C,xX:()=>_,yR:()=>E});let t=3e3,r=280,n=500,i=1e4,_=250,c=_+1,u=50,d=50,o=20,E=20,l={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PEOPLE_INVITES:"PEOPLE_INVITES",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PARTNERS_REQUEST_PAGE:"PARTNERS_REQUEST_PAGE",PARTNERS_INVITE_PAGE:"PARTNERS_INVITE_PAGE",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",SUPPORT_TOOL:"SUPPORT_TOOL",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS"},m={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},b={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},A={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},p={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER"},N={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},S={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},I=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],y=["CATALOGS_MANAGER","CATALOGS_VIEWER"],h={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},T=["PROFILE_PUBLISHER"],R={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3},C={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP"},D={id:"0",is_pin_support_user:!0,biz_roles:[h.BIZ_ADMIN],business_roles:[h.BIZ_ADMIN],user:{username:"psupport",full_name:"Pinterest support",image_small_url:"https://i.pinimg.com/60x60_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",image_medium_url:"https://i.pinimg.com/150x150_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg"}},O={ACTIVE:0,PENDING:1},v={ACTIVE:"active",PENDING:"pending"},P="filter_type",x={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},g={WARNING:"WARNING",DEFAULT:"DEFAULT"},U={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770},$={ALL_TAGS:"ALL",OWNED:"OWNED",SHARED:"SHARED"}},23799:(e,s,a)=>{a.d(s,{Z:()=>u});var t=a(214494),r=a(479218),n=a(466225);function i(e,s,a){var t;return(s="symbol"==typeof(t=function(e,s){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,s||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?t:String(t))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}class _{constructor(e={},s={},a=!1){i(this,"useBatching",!1),i(this,"flush",()=>{}),i(this,"_markExperimentAsActivated",()=>{}),i(this,"checkExperiment",(e,s)=>{s?.dangerouslySkipActivation||this._markExperimentAsActivated(e);let a=(this.active[e]??this.triggerable[e])||"";return{anyEnabled:(0,n.Z)(a),group:a}}),this.active=e,this.triggerable=s,this.useBatching=a}updateExperiments(e,s){e&&(this.active=e),s&&(this.triggerable=s)}}function c(e,s,a){var t;return(s="symbol"==typeof(t=function(e,s){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,s||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?t:String(t))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}class u extends _{constructor(...e){super(...e),c(this,"_markExperimentAsActivated",e=>{let s=this.active[e];if(void 0===s&&void 0!==(s=this.triggerable[e])){this.active[e]=s;let a={experiment_name:e,...s?{experiment_group:s}:Object.freeze({})};this.useBatching?(this._queuedResource||(this._queuedResource=new r.Z("ActivateExperimentResource",e=>({experiments:e}))),this._queuedResource.enqueue(a)):t.Z.create("ActivateExperimentResource",a).callCreate({showError:!1})}}),c(this,"flush",()=>{this._queuedResource&&this._queuedResource.flush()})}}},125203:(e,s,a)=>{a.d(s,{Z:()=>r});let t=a(23799).Z,r=t},466225:(e,s,a)=>{a.d(s,{Z:()=>t});let t=e=>e.startsWith("enabled")||e.startsWith("employee")},165544:(e,s,a)=>{a.d(s,{$2:()=>_,Ah:()=>u,IW:()=>i,Vs:()=>d,dF:()=>o,sl:()=>c});var t=a(326884),r=a(49428),n=a(76041);let i=(e={},s={})=>{if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){let a=e.limit||s.limit,t=e.page||s.page;return(t-1)*a}return s.startIndex||0},_=(e={},s)=>{if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){let a=e.limit||s.limit,t=e.page||s.page;return(t-1)*a}return s.startIndex},c=(e,s,a,t)=>{let{businessId:r,...n}=a,{...i}=t;return{id:e,...i,...n,searchBy:n.searchBy,searchTerm:n.searchTerm||i.searchTerm,limit:n.limit||i.limit,page:n.page||i.page,sortBy:n.sortBy||i.sortBy,sortDirection:n.sortDirection||i.sortDirection,startIndex:s,...0===s&&{page:1}}},u=(e,s)=>s.reduce((s,a)=>({ids:s.ids.concat(e(a)),data:{...s.data,[e(a)]:a}}),{ids:[],data:{}}),d=(e,s)=>{let a={page:e.page??s.page,limit:e.limit??s.limit,sortBy:e.sortBy??s.sortBy,searchBy:e.searchBy,searchTerm:e.searchTerm??s.searchTerm,sortDirection:e.sortDirection??s.sortDirection},t=i(e,s);return{...a,startIndex:t,...0===t&&{page:1}}},o=async(e,s,a,i)=>{let _="PEOPLE"===a?n.JC:r.Eg,{data:{data:c=[],total_data_count:u}={}}=i?await i({limit:t.xX,startIndex:0})||{}:await _({...e,limit:t.xX,startIndex:0,id:e?.id||""}),d=Math.ceil(u/t.xX);if(d<=1)return{data:{data:c,total_data_count:u}};let o=[...Array(d).keys()].slice(1),E=await Promise.allSettled(o.map(s=>i?i({limit:t.xX,startIndex:s*t.xX}):_({...e,limit:t.xX,startIndex:s*t.xX,id:e?.id||""}))),l=E.reduce((e,s)=>(s.value?.data?.data&&(e=e.concat(s.value.data.data)),e),c);return{data:{data:l,total_data_count:u}}}},433835:(e,s,a)=>{a.d(s,{ib:()=>m,XV:()=>p,jC:()=>A,oC:()=>l,W3:()=>S,fc:()=>P,cE:()=>T,xZ:()=>N,lo:()=>x,N1:()=>O,BG:()=>v,eo:()=>C,pI:()=>h,cp:()=>R,G2:()=>D,cR:()=>I,GS:()=>U,JE:()=>g,EB:()=>E});var t=a(983722),r=a(131980),n=a(326884),i=a(186656),_=a(49428),c=a(76041);let u=async(e,s,a,t=[])=>{let r=await (0,i.Z)({url:e,method:"GET",data:s}),n={bookmark:void 0,data:{business_id:"",data:[]},...r.resource_response};if(!n.bookmark){let e=a(n.data);return e.push(...t),n.data}return await u(e,{...s,bookmark:n.bookmark},a,t.concat(...a(n.data)))},d={get:(e,s={})=>u(e,s,e=>e.data,[])};var o=a(239838);let E=async(e,s,a,t,r,n,i,u)=>"PARTNER"===n?await (0,_.SZ)({businessId:r,partnerId:e,assetId:t,roles:s,clientBusinessId:i,businessHierarchyNodeId:u}):await (0,c.Jg)({businessId:r,memberId:e,assetId:t,roles:s,permissions:a,businessHierarchyNodeId:u}),l=async(e,s,a,t)=>{if(0===s.length)return;let r=[];s.forEach(({assigneeIds:s,adAccountIds:n,roles:i})=>{0!==i.length&&s.forEach(s=>{n.forEach(n=>{r.push(E(s,i,i,n,e,a,void 0,t))})})}),await Promise.all(r)},m=async(e,s,a,t,r)=>{let n="PEOPLE"===t?"MEMBER_INVITE":"PARTNER_INVITE",_=s.reduce((e,s)=>{let a=Object.keys(s)[0],t=Object.values(s)[0],r=t.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...r}},{}),c=a.map(s=>(0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/invites/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(_),invite_type:n,business_hierarchy_node_id:r}}));await Promise.all(c)},b=e=>e.reduce((e,s)=>{let a=Object.keys(s)[0],t=Object.values(s)[0],r=t.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...r}},{}),A=async(e,s,a,r)=>{let{anyEnabled:n}=t.Z()?.experimentsClient.checkExperiment("business_access_invites_api_v4_migration")??{},_=b(a);if(n){let a=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/partners/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:_}});return a.resource_response.data}let c=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(_),business_hierarchy_node_id:r}});return c.resource_response.data},p=async(e,s,a,t)=>{let r=s.reduce((e,s)=>{let a=Object.keys(s)[0],t=Object.values(s)[0],r=t.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...r}},{}),n=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/invites/${a}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(r),invite_type:"PARTNER_REQUEST",business_hierarchy_node_id:t}});return n.resource_response},N=async e=>{let{anyEnabled:s}=t.Z()?.experimentsClient.checkExperiment("ads_international_reseller_client_onboarding")??{};return(s&&e?await (0,i.Z)({url:"ads/v4/advertisers/countries/",method:"GET",data:{business_id:e}}):await (0,i.Z)({url:"ads/v4/advertisers/countries/",method:"GET"})).resource_response.data},S=async(e,s,a,t,n,_)=>{let c=await (0,i.Z)({url:"/ads/v4/advertisers/",method:"POST",data:{owner_user_id:e,name:t,country:n,business_hierarchy_node_id:a,tos_id:_||(0,o.Fc)(r.tN[n]),...s&&{agency_user_id:s}}});return c.resource_response.data},I=async()=>{let{anyEnabled:e}=t.Z()?.experimentsClient.checkExperiment("business_access_employees_api_v4_migration")??{};if(e){let e=await (0,i.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),s=e.resource_response.data?.data;return await Promise.all(s||[])}let s=await d.get("ads/internal/business_access/users/me/employers/"),a=s.data;return await Promise.all(a||[])},y=async({businessId:e,assetId:s,limit:a,sortBy:r="name",searchBy:_="name",searchTerm:c,startIndex:u,sortDirection:d,resourceType:o,permissions:E})=>{let{anyEnabled:l}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{},m={};s&&(m={...m,child_asset_id:s}),E&&(m={...m,permissions:E}),m&&0===Object.keys(m).length&&(m=void 0);let b=l?n.xX:n.cU,A=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/assets/`,data:{page_size:a&&a<b?a:b,sort_by:r,search_by:_,start_index:u,search_value:c,sort_ascending:"ASCENDING"===d,resource_type:o,filters:m?JSON.stringify(m):void 0}});return A.resource_response},h=async({businessId:e,assetIds:s,resourceType:a,limit:r,sortBy:_,sortDirection:c="ASCENDING",searchBy:u,searchTerm:d="",startIndex:o=0,filtersPayload:E})=>{let{anyEnabled:l}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{},{anyEnabled:m}=t.Z()?.experimentsClient.checkExperiment("business_access_invites_api_v4_migration")??{},b=l||m?n.xX:n.cU,A=r||Math.min(b,s.length||1),p=E&&Object.keys(E).length>0?{filters:JSON.stringify(E)}:{};return(await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/assets_by_ids`,data:{asset_ids:s,resource_type:a,page_size:A,sort_by:_,sort_direction:c,search_by:u,search_value:d,start_index:o,...p}})).resource_response},T=async({id:e,limit:s,sortBy:a="name",searchBy:r="name",searchTerm:n="",startIndex:_=0,sortDirection:c="ASCENDING",forPartner:u=!1,includeAssetSummary:d=!1})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o){let t=await y({id:e,businessId:e,limit:s,sortBy:a,searchBy:r,searchTerm:n,startIndex:_,sortDirection:c,resourceType:"AD_ACCOUNT",permissions:u?["OWNER"]:void 0});if(!d)return t;{let a=await h({businessId:e,assetIds:t?.data.data.map(e=>e.asset_id)||[],limit:s,resourceType:"AD_ACCOUNT"}),r=t?.data.data.map(e=>a?.data.data[e.asset_id]?{...e,...a.data.data[e.asset_id]}:null).filter(e=>!!e);return{...t,data:{...t?.data,data:r}}}}{let t=await (0,i.Z)({url:`/ads/internal/business_access/businesses/${String(e)}/all_assets/`,data:{limit:s,sort_by:a,sort_ascending:"ASCENDING"===c,search_by:r,search_value:n,start_index:_,for_partner:u}});return t.resource_response}},R=async({id:e,limit:s,sortBy:a="name",sortDirection:r="ASCENDING",searchBy:_="name",searchTerm:c="",startIndex:u=0,forPartner:d})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o)return y({id:e,businessId:e,limit:s,sortBy:a,searchBy:_,searchTerm:c,startIndex:u,sortDirection:r,resourceType:"PROFILE"});{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/all_assets/`,data:{limit:s,sort_by:a,sort_ascending:"ASCENDING"===r,search_by:_,search_value:c,start_index:u,for_partner:d,type:n.tP.PROFILE}});return t.resource_response}},C=async({id:e,assetIds:s,limit:a,type:r})=>{let{anyEnabled:_}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(_)return await h({businessId:e,resourceType:n.ww[r],assetIds:s});let c=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/batch_assets/`,method:"GET",data:{limit:a,type:r,assets_ids:s.join(",")}});return c.resource_response},D=async({businessId:e,assetId:s,resourceType:a="AD_ACCOUNT",includeAssetSummary:r=!1})=>{let{anyEnabled:n}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(n){let t=await y({id:e,businessId:e,searchBy:"id",searchTerm:s,assetId:s,resourceType:a});if(r){let s=await h({businessId:e,assetIds:t?.data.data.map(e=>e.asset_id)||[],limit:1,resourceType:"AD_ACCOUNT"}),a=t?.data.data.map(e=>({...e,...s?.data.data[e.asset_id]})),r={...t,data:{...t?.data,data:a?.[0]}};return r}{let e={...t,data:{...t?.data,data:t?.data?.data[0]}};return e}}let _=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/`,method:"GET"});return _.resource_response},O=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:_,searchTerm:c,startIndex:u,sortDirection:d})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o){let t=a&&a<n.xX?a:n.xX,o=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/partners/`,data:{page_size:t,sort_by:r,search_by:_||"FULL_NAME",start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}});return o.resource_response}{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/partners/`,data:{limit:a,sort_by:r,search_by:_||"full_name",start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}}),n=t.resource_response;return n}},v=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:_,searchTerm:c,startIndex:u,sortDirection:d})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o){let t=a&&a<n.xX?a:n.xX,o=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/members/`,data:{page_size:t,sort_by:r,search_by:_||"FULL_NAME",start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}});return o.resource_response}{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/members/`,data:{limit:a,sort_by:r,search_by:_||"full_name",start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}}),n=t.resource_response;return n}},P=async({id:e,businessId:s,assetId:a,limit:t,sortBy:r="name",searchBy:n="name",searchTerm:i,startIndex:_,sortDirection:c,resourceType:u="ASSET_GROUP"})=>y({id:e,businessId:s,assetId:a,limit:t,sortBy:r,searchBy:n,searchTerm:i,startIndex:_,sortDirection:c,resourceType:u}),x=async({id:e,businessId:s,limit:a,sortBy:t="name",searchBy:r="name",searchTerm:n,startIndex:i,sortDirection:_,resourceType:c="ASSET_GROUP"})=>y({id:e,businessId:s,limit:a,sortBy:t,searchBy:r,searchTerm:n,startIndex:i,sortDirection:_,resourceType:c}),g=async(e,s)=>{let a=await (0,i.Z)({url:`ads/v4/businesses/${e.businessId}/advertisers/metrics`,method:"POST",data:s});return a.resource_response.data},U=async(e,s)=>{let a=await (0,i.Z)({url:`ads/v4/business_hierarchy/${e.businessHierarchyId}/advertisers/metrics`,method:"POST",data:s});return a.resource_response.data}},49428:(e,s,a)=>{a.d(s,{Bq:()=>I,Cj:()=>l,Eg:()=>A,F0:()=>b,FA:()=>_,Jq:()=>E,K7:()=>m,M9:()=>y,OA:()=>R,Of:()=>S,SB:()=>N,SZ:()=>T,Zk:()=>o,c4:()=>p,ek:()=>u,h9:()=>h,qC:()=>c,w8:()=>d,wi:()=>C});var t=a(983722),r=a(326884),n=a(186656),i=a(165544);let _=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/batch_partners/`,method:"GET",data:{partners:s,assets_summary:a}}),{data:{data:r}}={data:{},...t.resource_response};return r},c=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/shared/batch_partners/`,method:"GET",data:{partners:s,assets_summary:a}}),{data:{data:r}}={data:{},...t.resource_response};return r},u=async(e,s)=>{let{anyEnabled:a}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(a){let a=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:r.xX}});return{data:[],business_id:"",partner_id:"",...a.resource_response.data}}let i=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:r.cU}});return{data:[],business_id:"",partner_id:"",...i.resource_response.data}},d=async(e,s)=>{let a=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/asset_counts/`,method:"GET"});return a.resource_response.data},o=async({partnerId:e,role:s,businessId:a,businessHierarchyNodeId:r})=>{let{anyEnabled:i}=t.Z()?.experimentsClient.checkExperiment("business_access_invites_api_v4_migration")??{};if(i){let s=await (0,n.Z)({url:`ads/v4/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{invite_type:"PARTNER_INVITE",business_hierarchy_node_id:r}});return s.resource_response}{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{role_name:s,business_hierarchy_node_id:r}});return t.resource_response}},E=async({partnerId:e,role:s,businessId:a})=>{let{anyEnabled:r}=t.Z()?.experimentsClient.checkExperiment("business_access_invites_api_v4_migration")??{};if(r){let s=await (0,n.Z)({url:`ads/v4/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{invite_type:"PARTNER_REQUEST"}});return s.resource_response}{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{role_name:s,type:"PARTNER_REQUEST"}});return t.resource_response}},l=async({businessId:e,partnerId:s,businessHierarchyNodeId:a,role:t})=>{let r=await (0,n.Z)({url:`/ads/internal/business_access/businesses/${e}/partners/${s}/`,method:"DELETE",data:{role_name:t,business_hierarchy_node_id:a}});return r.resource_response},m=async({businessId:e,partnerId:s,businessHierarchyNodeId:a,role:t,partner_type:r})=>{let i=await (0,n.Z)({url:`/ads/v4/business_access/businesses/${e}/partners/${s}/`,method:"DELETE",data:{role_name:t,partner_type:r,business_hierarchy_node_id:a}});return i.resource_response},b=async({id:e,limit:s,sortBy:a="full_name",searchBy:t="full_name",searchTerm:r="",startIndex:i=0,sortDirection:_="ASCENDING",includeAssetSummary:c=!0})=>{let u=await (0,n.Z)({url:`/ads/internal/business_access/businesses/${e}/all_partners/`,method:"GET",data:{limit:s,sort_by:a,search_by:t,start_index:i,search_value:r,assets_summary:c?"true":"false",sort_ascending:"ASCENDING"===_}}),d={data:{data:[]},...u.resource_response};return d.data.data=d.data.data.map(s=>(s?.created_by_biz?.id===e&&(s.isAgencyPartner=!0),s)),d},A=async({id:e,limit:s,sortBy:a="full_name",searchBy:t=["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:i="",startIndex:_=0,sortDirection:c="ASCENDING",includeAssetSummary:u,partnerType:d,partners:o=[]})=>{let E=s&&s<r.xX?s:r.xX,l=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/`,data:{page_size:E,sort_by:a,search_by:t,start_index:_,search_value:i,assets_summary:u?"true":"false",sort_ascending:"ASCENDING"===c,partner_type:d,partner_ids:o}});return l.resource_response},p=async({businessId:e,partnerId:s,includeAssetSummary:a=!0})=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/`,method:"GET",data:{assets_summary:a?"true":"false "}});if(t.resource_response.data?.created_by_biz?.id===e){let e={data:{isAgencyPartner:void 0},...t.resource_response};return e.data.isAgencyPartner=!0,e}return t.resource_response},N=async({businessId:e,partnerId:s,limit:a,sortBy:i,searchBy:_="name",searchTerm:c,startIndex:u,sortDirection:d})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o){let t=a&&a<r.xX?a:r.xX,o=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{page_size:t,sort_by:i,...c&&{search_by:_},start_index:u,search_value:c,sort_ascending:"ASCENDING"===d,partner_type:"INTERNAL"}});return o.resource_response}let E=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:a,sort_by:i,...c&&{search_by:_},start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}});return E.resource_response},S=async({businessId:e,partnerId:s,limit:a,sortBy:i,searchBy:_="name",searchTerm:c,startIndex:u,sortDirection:d})=>{let{anyEnabled:o}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(o){let t=a&&a<r.xX?a:r.xX,o=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{page_size:t,sort_by:i,...c&&{search_by:_},start_index:u,search_value:c,sort_ascending:"ASCENDING"===d,partner_type:"EXTERNAL"}});return o.resource_response}let E=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/shared/${s}/assets/`,method:"GET",data:{limit:a,sort_by:i,...c&&{search_by:_},start_index:u,search_value:c,sort_ascending:"ASCENDING"===d}});return E.resource_response},I=async({businessId:e,partnerId:s,limit:a,sortBy:t,searchBy:i="name",searchTerm:_,startIndex:c,sortDirection:u})=>{let d=a&&a<r.xX?a:r.xX,o=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{page_size:d,sort_by:t,..._?{search_by:i}:{},start_index:c,search_value:_,sort_ascending:"ASCENDING"===u,resource_type:"ASSET_GROUP",partner_type:"INTERNAL"}});return o.resource_response},y=async(e,s,a=!1)=>{let _=await (0,i.dF)({id:e,partnerType:"INTERNAL"},s,"PARTNER"),c=_.data.data,u=await Promise.all(c.map(async({id:s})=>{let{anyEnabled:i}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(i){let t=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:r.xX,resource_type:r.ww[a?r.tP.PROFILE:r.tP.AD_ACCOUNT],partner_type:"INTERNAL"}});return t.resource_response.data}let _=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:r.cU,type:a?r.tP.PROFILE:r.tP.AD_ACCOUNT}});return _.resource_response.data}));return c.map((e,s)=>({...e,assets:u[s].data}))},h=async({businessId:e,partnerId:s,assetId:a})=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/`,method:"GET"});return t.resource_response},T=async({businessId:e,partnerId:s,assetId:a,roles:r,clientBusinessId:i,businessHierarchyNodeId:_})=>{let{anyEnabled:c}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(c){let t=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"PUT",data:{permissions:r.includes("ADMIN")?["ADMIN"]:r,business_hierarchy_node_id:_,...i?{client_business_id:i}:{}}});return t.resource_response.data}{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"PUT",data:{finalRoles:r.includes("ADMIN")?["ADMIN"]:r,business_hierarchy_node_id:_,...i?{client_business_id:i}:{}}});return t.resource_response.data}},R=async({businessId:e,partnerId:s,assetId:a,businessHierarchyNodeId:r,partner_type:i="INTERNAL"})=>{let{anyEnabled:_}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(_){let t=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"DELETE",data:{partner_type:i,business_hierarchy_node_id:r}});return t.resource_response.data}{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"DELETE",data:{partner_type:i,business_hierarchy_node_id:r}});return t.resource_response.data}},C=async({businessId:e,assetId:s,limit:a,sortBy:t,searchBy:i="FULL_NAME",searchTerm:_,startIndex:c,sortDirection:u})=>{let d=a&&a<r.xX?a:r.xX,o=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/partners/`,data:{page_size:d,sort_by:t,search_by:i,search_value:_,start_index:c,sort_ascending:"ASCENDING"===u}});return o.resource_response}},76041:(e,s,a)=>{a.d(s,{GL:()=>S,JC:()=>l,Jg:()=>I,QC:()=>A,UQ:()=>d,bP:()=>y,dx:()=>o,kF:()=>h,kH:()=>m,kJ:()=>c,kY:()=>b,mZ:()=>p,n5:()=>N,p6:()=>E,p_:()=>u});var t=a(983722),r=a(577937),n=a(326884),i=a(186656),_=a(433835);let c=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/batch_members/`,method:"GET",data:{members:s,assets_summary:a,extend_info_from_user_api:!0}}),{data:{data:r}}={data:{data:{}},...t.resource_response};return r},u=async(e,s,a,r)=>{let{anyEnabled:n}=t.Z()?.experimentsClient.checkExperiment("business_access_invites_api_v4_migration")??{};if(n){let t=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${a}/members/batch_invite/`,method:"POST",data:{business_role:s,members:e}});return{data:[],...t.resource_response.data}}let _=await (0,i.Z)({url:`ads/internal/business_access/businesses/${a}/members/batch_invite/`,method:"POST",data:{role_name:s,members:e,business_hierarchy_node_id:r}});return{data:[],..._.resource_response.data}},d=async(e,s,a)=>{let{anyEnabled:_}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{},c=_?await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/`,method:"GET",data:{limit:n.xX,...0===a||1===a?{asset_permission_type:(0,r.bO)(a)}:{}}}):await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,method:"GET",data:{limit:n.cU,...Number.isInteger(a)&&{asset_permission_type:a}}}),u={data:[],...c.resource_response.data};return u.data},o=async(e,s,a,r)=>{let{anyEnabled:n}=t.Z()?.experimentsClient.checkExperiment("business_access_employees_api_v4_migration")??{},_=await (0,i.Z)({url:`ads/${n?"v4":"internal"}/business_access/businesses/${e}/members/${s}/`,method:"DELETE",data:{...n?{business_role:a}:{role_name:[a]},business_hierarchy_node_id:r}});return{data:void 0,auxData:void 0,..._.resource_response.data}},E=async(e,s,a,r)=>{let n=t.Z()?.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled??!1,_=await (0,i.Z)({url:n?`ads/v4/business_access/businesses/${a}/members/${s}/`:`ads/internal/business_access/businesses/${a}/members/${s}/`,method:"PUT",data:{...n?{business_role:e}:{role_name:e},...r?{business_hierarchy_node_id:r}:{}}});return _.resource_response.data},l=async({id:e,limit:s,filters:a,memberIds:t=[],sortBy:r="FULL_NAME",searchBy:_=["FULL_NAME","EMAIL","USERNAME"],searchTerm:c="",startIndex:u=0,sortDirection:d="ASCENDING",includeAssetSummary:o})=>{let E=s&&s<n.xX?s:n.xX,l=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/`,data:{page_size:E,member_ids:t.length?t.join(","):void 0,filters:a?JSON.stringify(a):void 0,sort_by:r,search_by:_,start_index:u,search_value:c,assets_summary:o?"true":"false",sort_ascending:"ASCENDING"===d,extend_info_from_user_api:!0}});return l.resource_response},m=async({id:e,limit:s,filters:a,sortBy:r="full_name",searchBy:_="full_name",searchTerm:c="",startIndex:u=0,sortDirection:d="ASCENDING",includeAssetSummary:o})=>{let{anyEnabled:E}=t.Z()?.experimentsClient.checkExperiment("business_access_employees_api_v4_migration_part1")??{};if(E){let t=Array.isArray(_)?_:[_],i=["FULL_NAME","USERNAME","BUSINESS_ID","EMAIL"].filter(e=>t.map(e=>e.toUpperCase().trim()).includes(e)),E=r.toUpperCase().trim()?"FULL_NAME":void 0;return l({businessId:e,id:e,limit:!s||s>n.xX?n.xX:s,filters:a,sortBy:E,searchBy:i,searchTerm:c,startIndex:u,sortDirection:d,includeAssetSummary:o})}let m=await (0,i.Z)({url:`/ads/internal/business_access/businesses/${e}/members/`,method:"GET",data:{limit:s,filters:a?JSON.stringify(a):void 0,sort_by:r,search_by:_,start_index:u,search_value:c,assets_summary:o?"true":"false",sort_ascending:"ASCENDING"===d,extend_info_from_user_api:!0}});return m.resource_response},b=async({id:e})=>{let s=t.Z()?.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled??!1,a=await (0,i.Z)({url:s?`/ads/v4/business_access/businesses/${e}/owner/`:`/ads/internal/business_access/businesses/${e}/owner/`});return a.resource_response.data},A=async({businessId:e,personId:s,limit:a,sortBy:c,searchBy:u="name",searchTerm:d,startIndex:o,sortDirection:E,assetPermissionType:l,includeAssetSummary:m=!1})=>{let{anyEnabled:b}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{},A={sort_by:c,search_by:u,start_index:o,search_value:d,sort_ascending:"ASCENDING"===E},p=b?n.xX:n.cU,N=a&&a<p?a:p;if(b){let a=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/`,data:{page_size:N,...A,...0===l||1===l?{asset_permission_type:(0,r.bO)(l)}:{}}});if(m){let s=await (0,_.pI)({businessId:e,assetIds:a.resource_response.data.data.map(e=>e.asset_id),resourceType:"AD_ACCOUNT"}),t=a.resource_response.data.data,r=t.reduce((e,a)=>({...e,data:{...e.data,data:e.data.data.map(e=>e.asset_id===a.asset_id?{...a,...s?.data.data[a.asset_id]}:e)}}),a.resource_response);return r}return a.resource_response}{let a=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,data:{limit:N,...A,...Number.isInteger(l)?{asset_permission_type:l}:{}}});return a.resource_response}},p=async({businessId:e,personId:s,limit:a,sortBy:c,searchBy:u="name",searchTerm:d,startIndex:o,sortDirection:E,assetPermissionType:l,includeAssetSummary:m=!1})=>{let{anyEnabled:b}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{},A={sort_by:c,search_by:u,start_index:o,search_value:d,sort_ascending:"ASCENDING"===E};if(b){let t=a&&a<n.xX?a:n.xX,c=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/`,data:{...A,page_size:t,resource_type:"PROFILE",...0===l||1===l?{asset_permission_type:(0,r.bO)(l)}:{}}});if(m){let s=await (0,_.pI)({businessId:e,assetIds:c.resource_response.data.data.map(e=>e.asset_id),resourceType:"PROFILE"}),a=c.resource_response.data.data,t=a.reduce((e,s)=>({...e,data:{...e.data,data:{...e.data.data,[s.asset_id]:{...e.data.data[s.asset_id],...s}}}}),s);return t}return c.resource_response}{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,data:{limit:a,...A,type:n.tP.PROFILE,...Number.isInteger(l)?{asset_permission_type:l}:{}}});return t.resource_response}},N=async({businessId:e,personId:s,limit:a,sortBy:t,searchBy:r="name",searchTerm:_,startIndex:c,sortDirection:u,assetPermissionType:d})=>{let o=a&&a<n.xX?a:n.xX,E=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/`,data:{page_size:o,sort_by:t,search_by:r,start_index:c,search_value:_,sort_ascending:"ASCENDING"===u,resource_type:"ASSET_GROUP",asset_permission_type:d}});return E.resource_response},S=async({businessId:e,personId:s,assetId:a})=>{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/`});return t.resource_response},I=async({businessId:e,memberId:s,assetId:a,businessHierarchyNodeId:r,roles:n,permissions:_})=>{let{anyEnabled:c}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(c){let t=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"PUT",data:{permissions:_.includes("ADMIN")?["ADMIN"]:_,business_hierarchy_node_id:r}});return t.resource_response.data}{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"PUT",data:{finalRoles:n.includes("ADMIN")?["ADMIN"]:n,business_hierarchy_node_id:r}});return t.resource_response.data}},y=async({businessId:e,memberId:s,assetId:a,businessHierarchyNodeId:r})=>{let{anyEnabled:n}=t.Z()?.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration")??{};if(n){let t=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"DELETE",data:{business_hierarchy_node_id:r}});return t.resource_response.data}{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"DELETE",data:{business_hierarchy_node_id:r}});return t.resource_response.data}},h=async({businessId:e,assetId:s,limit:a,sortBy:t,searchBy:r="FULL_NAME",searchTerm:_,startIndex:c,sortDirection:u})=>{let d=a&&a<n.xX?a:n.xX,o=await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/members/`,method:"GET",data:{page_size:d,sort_by:t,search_by:r,search_value:_,start_index:c,sort_ascending:"ASCENDING"===u}}),{data:E}={data:void 0,...o.resource_response};return E}},180548:(e,s,a)=>{function t(e){return null==e}function r(e){return!t(e)}a.d(s,{G:()=>r,k:()=>t})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88435-98f4a71553cf384f.mjs.map